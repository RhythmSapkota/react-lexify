{"version":3,"file":"roundRect-DxA6ocdw.mjs","sources":["../node_modules/canvas-roundrect-polyfill/roundRect.js"],"sourcesContent":["/*\n *  Implements the .roundRect() method of the CanvasPath mixin\n *  as introduced by https://github.com/whatwg/html/pull/6765\n */\n(() => {\n\n  \"use strict\";\n\n  Path2D.prototype.roundRect ??= roundRect;\n  if (globalThis.CanvasRenderingContext2D) {\n\n    globalThis.CanvasRenderingContext2D.prototype.roundRect ??= roundRect;\n\n  }\n  if (globalThis.OffscreenCanvasRenderingContext2D) {\n\n    globalThis.OffscreenCanvasRenderingContext2D.prototype.roundRect ??= roundRect;\n\n  }\n\n  function roundRect(x, y, w, h, radii) {\n\n    if (!([x, y, w, h].every((input) => Number.isFinite(input)))) {\n\n      return;\n\n    }\n\n    radii = parseRadiiArgument(radii);\n\n    let upperLeft, upperRight, lowerRight, lowerLeft;\n\n    if (radii.length === 4) {\n\n      upperLeft = toCornerPoint(radii[0]);\n      upperRight = toCornerPoint(radii[1]);\n      lowerRight = toCornerPoint(radii[2]);\n      lowerLeft = toCornerPoint(radii[3]);\n\n    } else if (radii.length === 3) {\n\n      upperLeft = toCornerPoint(radii[0]);\n      upperRight = toCornerPoint(radii[1]);\n      lowerLeft = toCornerPoint(radii[1]);\n      lowerRight = toCornerPoint(radii[2]);\n\n    } else if (radii.length === 2) {\n\n      upperLeft = toCornerPoint(radii[0]);\n      lowerRight = toCornerPoint(radii[0]);\n      upperRight = toCornerPoint(radii[1]);\n      lowerLeft = toCornerPoint(radii[1]);\n\n    } else if (radii.length === 1) {\n\n      upperLeft = toCornerPoint(radii[0]);\n      upperRight = toCornerPoint(radii[0]);\n      lowerRight = toCornerPoint(radii[0]);\n      lowerLeft = toCornerPoint(radii[0]);\n\n    } else {\n\n      throw new RangeError(`${ getErrorMessageHeader(this) } ${ radii.length } is not a valid size for radii sequence.`);\n\n    }\n\n    const corners = [upperLeft, upperRight, lowerRight, lowerLeft];\n    const negativeCorner = corners.find(({x, y}) => x < 0 || y < 0);\n    const negativeValue = negativeCorner?.x < 0 ? negativeCorner.x : negativeCorner?.y\n\n    if (corners.some(({x, y}) => !Number.isFinite(x) || !Number.isFinite(y))) {\n\n      return;\n\n    }\n\n    if (negativeCorner) {\n\n      throw new RangeError(`${ getErrorMessageHeader(this) } Radius value ${ negativeCorner } is negative.`);\n\n    }\n\n    fixOverlappingCorners(corners);\n\n    if (w < 0 && h < 0) {\n\n      this.moveTo(x - upperLeft.x, y);\n      this.ellipse(x + w + upperRight.x, y - upperRight.y, upperRight.x, upperRight.y, 0, -Math.PI * 1.5, -Math.PI);\n      this.ellipse(x + w + lowerRight.x, y + h + lowerRight.y, lowerRight.x, lowerRight.y, 0, -Math.PI, -Math.PI / 2);\n      this.ellipse(x - lowerLeft.x, y + h + lowerLeft.y, lowerLeft.x, lowerLeft.y, 0, -Math.PI / 2, 0);\n      this.ellipse(x - upperLeft.x, y - upperLeft.y, upperLeft.x, upperLeft.y, 0, 0, -Math.PI / 2);\n\n    } else if (w < 0) {\n\n      this.moveTo(x - upperLeft.x, y);\n      this.ellipse(x + w + upperRight.x, y + upperRight.y, upperRight.x, upperRight.y, 0, -Math.PI / 2, -Math.PI, 1);\n      this.ellipse(x + w + lowerRight.x, y + h - lowerRight.y, lowerRight.x, lowerRight.y, 0, -Math.PI, -Math.PI * 1.5, 1);\n      this.ellipse(x - lowerLeft.x, y + h - lowerLeft.y, lowerLeft.x, lowerLeft.y, 0, Math.PI / 2, 0, 1);\n      this.ellipse(x - upperLeft.x, y + upperLeft.y, upperLeft.x, upperLeft.y, 0, 0, -Math.PI / 2, 1);\n\n    } else if (h < 0) {\n\n      this.moveTo(x + upperLeft.x, y);\n      this.ellipse(x + w - upperRight.x, y - upperRight.y, upperRight.x, upperRight.y, 0, Math.PI / 2, 0, 1);\n      this.ellipse(x + w - lowerRight.x, y + h + lowerRight.y, lowerRight.x, lowerRight.y, 0, 0, -Math.PI / 2, 1);\n      this.ellipse(x + lowerLeft.x, y + h + lowerLeft.y, lowerLeft.x, lowerLeft.y, 0, -Math.PI / 2, -Math.PI, 1);\n      this.ellipse(x + upperLeft.x, y - upperLeft.y, upperLeft.x, upperLeft.y, 0, -Math.PI, -Math.PI * 1.5, 1);\n\n    } else {\n\n      this.moveTo(x + upperLeft.x, y);\n      this.ellipse(x + w - upperRight.x, y + upperRight.y, upperRight.x, upperRight.y, 0, -Math.PI / 2, 0);\n      this.ellipse(x + w - lowerRight.x, y + h - lowerRight.y, lowerRight.x, lowerRight.y, 0, 0, Math.PI / 2);\n      this.ellipse(x + lowerLeft.x, y + h - lowerLeft.y, lowerLeft.x, lowerLeft.y, 0, Math.PI / 2, Math.PI);\n      this.ellipse(x + upperLeft.x, y + upperLeft.y, upperLeft.x, upperLeft.y, 0, Math.PI, Math.PI * 1.5);\n\n    }\n\n    this.closePath();\n    this.moveTo(x, y);\n\n    function toDOMPointInit(value) {\n\n      const {x, y, z, w} = value;\n      return {x, y, z, w};\n\n    }\n\n    function parseRadiiArgument(value) {\n\n      // https://webidl.spec.whatwg.org/#es-union\n      // with 'optional (unrestricted double or DOMPointInit\n      //   or sequence<(unrestricted double or DOMPointInit)>) radii = 0'\n      const type = typeof value;\n\n      if (type === \"undefined\" || value === null) {\n\n        return [0];\n\n      }\n      if (type === \"function\") {\n\n        return [NaN];\n\n      }\n      if (type === \"object\") {\n\n        if (typeof value[Symbol.iterator] === \"function\") {\n\n          return [...value].map((elem) => {\n            // https://webidl.spec.whatwg.org/#es-union\n            // with '(unrestricted double or DOMPointInit)'\n            const elemType = typeof elem;\n            if (elemType === \"undefined\" || elem === null) {\n              return 0;\n            }\n            if (elemType === \"function\") {\n              return NaN;\n            }\n            if (elemType === \"object\") {\n              return toDOMPointInit(elem);\n            }\n            return toUnrestrictedNumber(elem);\n          });\n\n        }\n\n        return [toDOMPointInit(value)];\n\n      }\n\n      return [toUnrestrictedNumber(value)];\n\n    }\n\n    function toUnrestrictedNumber(value) {\n\n      return +value;\n\n    }\n\n    function toCornerPoint(value) {\n\n      const asNumber = toUnrestrictedNumber(value);\n      if (Number.isFinite(asNumber)) {\n\n        return {\n          x: asNumber,\n          y: asNumber\n        };\n\n      }\n      if (Object(value) === value) {\n\n        return {\n          x: toUnrestrictedNumber(value.x ?? 0),\n          y: toUnrestrictedNumber(value.y ?? 0)\n        };\n\n      }\n\n      return {\n        x: NaN,\n        y: NaN\n      };\n\n    }\n\n    function fixOverlappingCorners(corners) {\n\n      const [upperLeft, upperRight, lowerRight, lowerLeft] = corners;\n      const factors = [\n        Math.abs(w) / (upperLeft.x + upperRight.x),\n        Math.abs(h) / (upperRight.y + lowerRight.y),\n        Math.abs(w) / (lowerRight.x + lowerLeft.x),\n        Math.abs(h) / (upperLeft.y + lowerLeft.y)\n      ];\n      const minFactor = Math.min(...factors);\n      if (minFactor <= 1) {\n\n        for (const radii of corners) {\n\n          radii.x *= minFactor;\n          radii.y *= minFactor;\n\n        }\n\n      }\n\n    }\n\n  }\n\n  function getErrorMessageHeader(instance) {\n\n    return `Failed to execute 'roundRect' on '${ getConstructorName(instance) }':`;\n\n  }\n\n  function getConstructorName(instance) {\n\n    return Object(instance) === instance &&\n      instance instanceof Path2D ? \"Path2D\" :\n      instance instanceof globalThis?.CanvasRenderingContext2D ? \"CanvasRenderingContext2D\" :\n      instance instanceof globalThis?.OffscreenCanvasRenderingContext2D ? \"OffscreenCanvasRenderingContext2D\" :\n      instance?.constructor.name ||\n      instance;\n\n  }\n\n})();\n"],"names":["_a","_b","_c","roundRect","x","y","w","h","radii","input","parseRadiiArgument","upperLeft","upperRight","lowerRight","lowerLeft","toCornerPoint","getErrorMessageHeader","corners","negativeCorner","fixOverlappingCorners","toDOMPointInit","value","z","type","elem","elemType","toUnrestrictedNumber","asNumber","factors","minFactor","instance","getConstructorName"],"mappings":"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","x_google_ignoreList":[0]}